# 字符串转数字，数字转字符串API

**字符串转数字**

- atoi：参数const char *，atoi要想将string转成整数，需要使用c_str函数将string转换成const char *
- stoi：参数string或const char *

```cpp
//字符串转数字
string str("1234");
int n1 = stoi(str);
int n2 = atoi(str.c_str());

const char * str2 = "1234";
int n3 = stoi(str2);
int n4 = atoi(str2);
```

**数字转字符串**

- to_string：参数int

```cpp
//数字转字符串函数
string str = to_string(123);
```

# 划分字符串

```cpp
字符串 S 由小写字母组成。我们要把这个字符串划分为尽可能多的片段，
同一字母最多出现在一个片段中。返回一个表示每个字符串片段的长度的列表。
输入：aabccggw
切割结果：aa b cc gg w
输出：2 1 2 2 1

aabcacggw
aabcac gg w
6 2 1

aabacbcggw
aabacbc gg w
7 2 1
```

**我的思路：**

- 从末尾开始遍历，把每个字符的最后出现的下标用哈希表存起来
- 再从前往后遍历，确定第一个字符，然后确定结尾下标，再在这中间看有没有其他字符下标比结尾大的

```cpp
#include <iostream>
#include <vector>
#include <unordered_map>
using namespace std;

vector<int> Partition(string & str)
{
    if(str.empty()) return vector<int>();
    vector<int> result;

    //从末尾开始遍历，把每个字符的最后出现的下标用哈希表存起来
    unordered_map<char, int> map;
    int size = str.size();
    for(int i = size-1; i >= 0; --i)
    {
        if(map.find(str[i]) == map.end())
        {
            map.insert({str[i], i});
        }
    }

    //从前往后遍历，确定第一个字符，然后确定结尾下标，再在这中间看有没有其他字符下标比结尾大的
    for(int i = 0; i < size; ++i)
    {
        int j = map[str[i]];
        for(int k = i + 1; k <= j; ++k)
        {
            if(map[str[k]] >= j)
            {
                j = map[str[k]];
            }
        }
        result.push_back(j-i+1);
        i = j;
    }

    return result;
}

int main(int argc, char* argv[])
{
    string str(argv[1]);
    vector<int> vec = Partition(str);

    for(auto & val : vec)
    {
        cout<<val<<"  ";
    }
    cout<<endl;
}
```

![image-20210520210912751](img/%E7%AE%97%E6%B3%95%EF%BC%9A%E5%AD%97%E7%AC%A6%E4%B8%B2%E7%9B%B8%E5%85%B3.img/image-20210520210912751.png)

# 字符串变形

```cpp
对于一个给定的字符串，我们需要在线性(也就是O(n))的时间里对它做一些变形。首先这个字符串中包含着一些空格，就像"Hello World"一样，然后我们要做的是把着个字符串中由空格隔开的单词反序，同时反转每个字符的大小写。比如"Hello World"变形后就变成了"wORLD hELLO"。
    
输入："Hello World"
输出："wORLD hELLO"
```

**我的思路：**

- 确定每一个单词的起始结尾下标，反序单词内部，同时转变大小写，A 65 a 97
- 最后整个字符串逆置
- <img src="img/%E7%AE%97%E6%B3%95%EF%BC%9A%E5%AD%97%E7%AC%A6%E4%B8%B2%E7%9B%B8%E5%85%B3.img/image-20210522150013715.png" alt="image-20210522150013715" style="zoom:50%;" />

```cpp
//反转单词内部，最后整个逆置
//This is a sample  
//SIHt SI A ELPMAS
//SAMPLE A IS tHIS
class Solution {
public:
    string trans(string s, int n) 
    {
        //确定每一个单词的起始结尾下标，反序，同时转变大小写，A 65 a 97
        for(int i = 0; i < s.size(); ++i)
        {
            int start = i;
            while(s[i] != ' ' && i < s.size())
            {
                if(s[i] >= 'A' && s[i] <= 'Z')    s[i] = 'a' + s[i] - 'A';
                else if(s[i] >= 'a' && s[i] <= 'z')    s[i] = 'A' + s[i] - 'a';
                ++i;
            }
            
            //反转start 到i-1之间
            trans(s, start, i-1);
        }
        
        //最后整个逆置
        reverse(s.begin(), s.end());
        return s;
    }
    
    //反转字符串start到end之间
    void trans(string & s, int start, int end)
    {
        while(start <= end)
        {
            char tmp = s[start];
            s[start] = s[end];
            s[end] = tmp;
            start++;
            end--;
        }
    }
};
```

