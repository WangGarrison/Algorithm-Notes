# 字符串转数字，数字转字符串API

**字符串转数字**

- atoi：参数const char *，atoi要想将string转成整数，需要使用c_str函数将string转换成const char *
- stoi：参数string或const char *

```cpp
//字符串转数字
string str("1234");
int n1 = stoi(str);
int n2 = atoi(str.c_str());

const char * str2 = "1234";
int n3 = stoi(str2);
int n4 = atoi(str2);
```

**数字转字符串**

- to_string：参数int

```cpp
//数字转字符串函数
string str = to_string(123);
```

# 划分字符串

```cpp
字符串 S 由小写字母组成。我们要把这个字符串划分为尽可能多的片段，
同一字母最多出现在一个片段中。返回一个表示每个字符串片段的长度的列表。
输入：aabccggw
切割结果：aa b cc gg w
输出：2 1 2 2 1

aabcacggw
aabcac gg w
6 2 1

aabacbcggw
aabacbc gg w
7 2 1
```

**我的思路：**

- 从末尾开始遍历，把每个字符的最后出现的下标用哈希表存起来
- 再从前往后遍历，确定第一个字符，然后确定结尾下标，再在这中间看有没有其他字符下标比结尾大的

```cpp
#include <iostream>
#include <vector>
#include <unordered_map>
using namespace std;

vector<int> Partition(string & str)
{
    if(str.empty()) return vector<int>();
    vector<int> result;

    //从末尾开始遍历，把每个字符的最后出现的下标用哈希表存起来
    unordered_map<char, int> map;
    int size = str.size();
    for(int i = size-1; i >= 0; --i)
    {
        if(map.find(str[i]) == map.end())
        {
            map.insert({str[i], i});
        }
    }

    //从前往后遍历，确定第一个字符，然后确定结尾下标，再在这中间看有没有其他字符下标比结尾大的
    for(int i = 0; i < size; ++i)
    {
        int j = map[str[i]];
        for(int k = i + 1; k <= j; ++k)
        {
            if(map[str[k]] >= j)
            {
                j = map[str[k]];
            }
        }
        result.push_back(j-i+1);
        i = j;
    }

    return result;
}

int main(int argc, char* argv[])
{
    string str(argv[1]);
    vector<int> vec = Partition(str);

    for(auto & val : vec)
    {
        cout<<val<<"  ";
    }
    cout<<endl;
}
```

![image-20210520210912751](img/%E7%AE%97%E6%B3%95%EF%BC%9A%E5%AD%97%E7%AC%A6%E4%B8%B2%E7%9B%B8%E5%85%B3.img/image-20210520210912751.png)